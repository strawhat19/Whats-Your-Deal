{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\massa\\\\OneDrive\\\\Desktop\\\\Coding\\\\Whats-Your-Deal\\\\src\\\\components\\\\Main\\\\states\\\\Company\\\\company.jsx\";\nimport React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport \"./sass/company.css\";\nimport \"./css/customCSS.css\";\nimport Chart from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Company extends React.Component {\n  async componentDidMount(companySymbol, copmany, profile, history) {\n    // Declaring Constants\n    const companyDash = document.querySelector(`.companyDash`);\n    const companyData = document.querySelector(`.companyData`);\n    const companyChart = document.querySelector(`.companyChart`); // const companyChartCanvas = document.getElementById(`lineChart`);\n    // companySymbol = window.location.search.replace(\"?symbol=\", \"\");\n\n    companySymbol = `AAPL`; // Getting Profiles\n\n    const profileResponse = await fetch(`https://stock-exchange-dot-full-stack-course-services.ew.r.appspot.com/api/v3/company/profile/${companySymbol}`);\n    profile = await profileResponse.json();\n    let {\n      profile: {\n        price,\n        image,\n        industry,\n        companyName: name,\n        changes,\n        description,\n        website,\n        changesPercentage: percent\n      },\n      symbol\n    } = profile;\n    let plus = ``;\n    let condition = ``; // Filtering for Price Increase or Decrease\n\n    if (changes >= 0) {\n      condition = `positive`;\n      plus = `+`;\n    } else {\n      condition = `negative`;\n    } // Taking Destructured Objects and injecting them into the markdown\n\n\n    companyData.innerHTML = `\n        <div class=\"companyTitleRow\">\n            <img src=\"${image}\" class=\"companyImage\" alt=\"${companySymbol}\">\n            <a href=\"${website}\" target=\"_blank\" title=\"${companySymbol}\">\n                <span class=\"companyName\">${name}</span>\n                <span class=\"industry\">(${industry})</span>\n            </a>\n        </div>\n        <div class=\"stockPrice\">Stock Price: $${price} <span class=\"companyChanges ${condition}\">(${plus}${changes}%)</span></div>\n        <p class=\"companyDescription\"><span>Description:</span> ${description}</p>\n        `;\n\n    if (industry === ``) {\n      document.querySelector(`.industry`).innerHTML = `(${companySymbol})`;\n    }\n\n    if (website === ``) {\n      document.querySelector(`.companyTitleRow a`).setAttribute(`href`, `../`);\n    } // Image Fixing\n\n\n    const images = document.querySelectorAll(`img`);\n    images.forEach(image => {\n      image.addEventListener(`error`, event => {\n        event.target.src = `https://raw.githubusercontent.com/strawhat19/Whats-Your-Deal/main/public/assets/Stock-Icon-Circle-Icon.png`;\n      });\n    }); // Getting History\n\n    const profileHistory = await fetch(`https://stock-exchange-dot-full-stack-course-services.ew.r.appspot.com/api/v3/historical-price-full/${companySymbol}?serietype=line`);\n    history = await profileHistory.json();\n    history.historical.splice(15);\n    let datesArray = [];\n    let pricesArray = [];\n    history.historical.forEach(date => {\n      let month = date.date.split(`-`)[1];\n      let day = date.date.split(`-`)[2];\n      let monthDay = month + ` -` + day;\n      datesArray.push(monthDay);\n      localStorage.setItem(`Dates`, JSON.stringify(datesArray));\n      pricesArray.push(date.close);\n      localStorage.setItem(`Prices`, JSON.stringify(pricesArray));\n    });\n  }\n\n  render() {\n    const companyChartCanvas = document.getElementById(`lineChart`);\n    const lineChart = new Chart(companyChartCanvas, {\n      type: `line`,\n      data: {\n        labels: JSON.parse(localStorage.getItem(`Dates`)).reverse(),\n        datasets: [{\n          label: `Company Growth`,\n          backgroundColor: `rgba(222, 28, 28, 50%)`,\n          borderColor: `#de1c1c`,\n          fill: true,\n          pointRadius: 1,\n          responsive: true,\n          data: JSON.parse(localStorage.getItem(`Prices`)).reverse()\n        }]\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"company\",\n      id: \"company\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"../\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"nasdaq\",\n          children: \"NASDAQ EXCHANGE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 31\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"companyDash\",\n        id: \"companyDash\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"companyData\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"companyChart\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"chartTitle\",\n            children: \"Company Growth over the past 15 Business Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            class: \"lineChart\",\n            id: \"lineChart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/massa/OneDrive/Desktop/Coding/Whats-Your-Deal/src/components/Main/states/Company/company.jsx"],"names":["React","Line","Chart","Company","Component","componentDidMount","companySymbol","copmany","profile","history","companyDash","document","querySelector","companyData","companyChart","profileResponse","fetch","json","price","image","industry","companyName","name","changes","description","website","changesPercentage","percent","symbol","plus","condition","innerHTML","setAttribute","images","querySelectorAll","forEach","addEventListener","event","target","src","profileHistory","historical","splice","datesArray","pricesArray","date","month","split","day","monthDay","push","localStorage","setItem","JSON","stringify","close","render","companyChartCanvas","getElementById","lineChart","type","data","labels","parse","getItem","reverse","datasets","label","backgroundColor","borderColor","fill","pointRadius","responsive"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport \"./sass/company.css\";\r\nimport \"./css/customCSS.css\";\r\nimport Chart from 'chart.js';\r\n\r\nexport default class Company extends React.Component {\r\n\r\n    async componentDidMount(companySymbol,copmany,profile,history) {   \r\n\r\n        // Declaring Constants\r\n        const companyDash = document.querySelector(`.companyDash`);\r\n        const companyData = document.querySelector(`.companyData`);\r\n        const companyChart = document.querySelector(`.companyChart`);\r\n        // const companyChartCanvas = document.getElementById(`lineChart`);\r\n        // companySymbol = window.location.search.replace(\"?symbol=\", \"\");\r\n        companySymbol = `AAPL`;\r\n\r\n        // Getting Profiles\r\n        const profileResponse = await fetch(`https://stock-exchange-dot-full-stack-course-services.ew.r.appspot.com/api/v3/company/profile/${companySymbol}`);\r\n\r\n        profile = await profileResponse.json();\r\n        let {profile: {price,image,industry,companyName:name,changes,description,website,changesPercentage:percent},symbol} = profile;\r\n\r\n        let plus = ``;\r\n        let condition = ``;\r\n\r\n        // Filtering for Price Increase or Decrease\r\n        if (changes >= 0) {\r\n            condition = `positive`;\r\n            plus = `+`;\r\n        }  else {\r\n            condition = `negative`;\r\n        }\r\n\r\n        // Taking Destructured Objects and injecting them into the markdown\r\n        companyData.innerHTML = `\r\n        <div class=\"companyTitleRow\">\r\n            <img src=\"${image}\" class=\"companyImage\" alt=\"${companySymbol}\">\r\n            <a href=\"${website}\" target=\"_blank\" title=\"${companySymbol}\">\r\n                <span class=\"companyName\">${name}</span>\r\n                <span class=\"industry\">(${industry})</span>\r\n            </a>\r\n        </div>\r\n        <div class=\"stockPrice\">Stock Price: $${price} <span class=\"companyChanges ${condition}\">(${plus}${changes}%)</span></div>\r\n        <p class=\"companyDescription\"><span>Description:</span> ${description}</p>\r\n        `;\r\n\r\n        if (industry === ``) {\r\n            document.querySelector(`.industry`).innerHTML = `(${companySymbol})`;\r\n        }\r\n\r\n        if (website === ``) {\r\n            document.querySelector(`.companyTitleRow a`).setAttribute(`href`,`../`);\r\n        }\r\n\r\n        // Image Fixing\r\n        const images = document.querySelectorAll(`img`);\r\n        images.forEach(image => {\r\n            image.addEventListener(`error`,event => {\r\n            event.target.src=`https://raw.githubusercontent.com/strawhat19/Whats-Your-Deal/main/public/assets/Stock-Icon-Circle-Icon.png`;\r\n            })\r\n        })\r\n\r\n        // Getting History\r\n        const profileHistory = await fetch(`https://stock-exchange-dot-full-stack-course-services.ew.r.appspot.com/api/v3/historical-price-full/${companySymbol}?serietype=line`);\r\n        history = await profileHistory.json();\r\n        history.historical.splice(15);\r\n\r\n        let datesArray = [];\r\n        let pricesArray = [];\r\n\r\n        history.historical.forEach(date => {\r\n            let month = date.date.split(`-`)[1];\r\n            let day = date.date.split(`-`)[2];\r\n            let monthDay = month + ` -` + day;\r\n            datesArray.push(monthDay);\r\n            localStorage.setItem(`Dates`, JSON.stringify(datesArray));\r\n            pricesArray.push(date.close);\r\n            localStorage.setItem(`Prices`, JSON.stringify(pricesArray));\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        \r\n        const companyChartCanvas = document.getElementById(`lineChart`);\r\n        const lineChart = new Chart(companyChartCanvas, {\r\n        type: `line`,\r\n        data: {\r\n                labels: JSON.parse(localStorage.getItem(`Dates`)).reverse(),\r\n                datasets: [{\r\n                    label: `Company Growth`,\r\n                    backgroundColor: `rgba(222, 28, 28, 50%)`,\r\n                    borderColor: `#de1c1c`,\r\n                    fill: true,\r\n                    pointRadius: 1,\r\n                    responsive: true,\r\n                    data: JSON.parse(localStorage.getItem(`Prices`)).reverse()\r\n                }]\r\n            }\r\n        })\r\n\r\n        return (\r\n            <div className=\"company\" id=\"company\">\r\n                <a href=\"../\"><h1 class=\"nasdaq\">NASDAQ EXCHANGE</h1></a>\r\n                <div class=\"companyDash\" id=\"companyDash\">\r\n                    <div class=\"companyData\"></div>\r\n                    <div class=\"companyChart\">\r\n                        <div class=\"chartTitle\">Company Growth over the past 15 Business Days</div>\r\n                        <canvas class=\"lineChart\" id=\"lineChart\"></canvas>\r\n                        {/* <Line data={{\r\n                            labels: JSON.parse(localStorage.getItem(`Dates`)).reverse(),\r\n                            datasets: [{\r\n                                label: `Company Growth`,\r\n                                backgroundColor: `rgba(222, 28, 28, 50%)`,\r\n                                borderColor: `#de1c1c`,\r\n                                fill: true,\r\n                                pointRadius: 1,\r\n                                responsive: true,\r\n                                data: JSON.parse(localStorage.getItem(`Prices`)).reverse()\r\n                            }]\r\n                        }} /> */}\r\n                    </div>\r\n                </div>\r\n                <script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js\"></script>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}